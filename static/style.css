/* --- ENDFIELD THEME --- */
:root {
    --c-yellow: #F2D930;    /* "Industrial Yellow" */
    --c-black: #0A0A0A;     /* Deep Matte Black */
    --c-dark-grey: #1C1C1C; /* Panel Background */
    --c-light-grey: #B0B0B0;/* Secondary Text */
    --c-white: #FFFFFF;
    --c-red: #FF3333;       /* Warning Color */
    
    --font-main: 'Rajdhani', sans-serif; /* Tech UI Font */
    --font-mono: 'JetBrains Mono', monospace; /* Data Font */
}

body {
    background-color: var(--c-black);
    color: var(--c-white);
    font-family: var(--font-main);
    margin: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    box-sizing: border-box;
    overflow-x: hidden;
}

/* Background Grid Pattern */
.bg-grid {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background-image: 
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    z-index: -1;
}

.main-wrapper {
    width: 100%;
    max-width: 1200px;
}

/* --- HEADER --- */
.top-bar {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    border-bottom: 2px solid var(--c-white);
    padding-bottom: 10px;
    margin-bottom: 30px;
    text-transform: uppercase;
}

.logo { font-size: 2rem; font-weight: 700; letter-spacing: 2px; }
.logo-icon { color: var(--c-yellow); margin-right: 5px; }
.sub-logo { font-size: 1rem; color: var(--c-yellow); margin-left: 10px; font-weight: 500; }
.system-status { font-family: var(--font-mono); font-size: 0.8rem; color: var(--c-light-grey); }
.blink { animation: blinker 2s linear infinite; }
@keyframes blinker { 50% { opacity: 0; } }

/* --- GAME BOARD LAYOUT --- */
.game-board {
    display: flex;
    gap: 40px;
    align-items: flex-start;
}

.col-left { flex: 3; position: relative; }
.col-right { flex: 2; display: flex; flex-direction: column; gap: 20px; }

/* --- THE VIEWPORT (Image Box) --- */
.roulette-box {
    width: 100%;
    height: 600px;
    background: var(--c-dark-grey);
    border: 1px solid #333;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden; /* Keeps scanlines inside */
}

/* Corner Brackets (The Tactical Look) */
.corner-bracket {
    position: absolute; width: 20px; height: 20px;
    border: 3px solid var(--c-yellow);
    z-index: 2;
    pointer-events: none;
}
.top-left { top: -3px; left: -3px; border-bottom: none; border-right: none; }
.top-right { top: -3px; right: -3px; border-bottom: none; border-left: none; }
.bottom-left { bottom: -3px; left: -3px; border-top: none; border-right: none; }
.bottom-right { bottom: -3px; right: -3px; border-top: none; border-left: none; }

.image-slot img { width: 100%; height: 100%; object-fit: contain; display: block; }
.placeholder { font-family: var(--font-mono); font-size: 1.5rem; color: #444; letter-spacing: 2px; }

/* HUD Overlay Elements */
.hud-overlay {
    position: absolute; top: 10px; right: 10px;
    font-family: var(--font-mono); font-size: 0.7rem;
    color: var(--c-yellow); background: rgba(0,0,0,0.5);
    padding: 2px 5px;
}
.scanline {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.3) 51%);
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 1;
}

/* --- CONTROLS --- */
.controls-header {
    display: flex; align-items: center; gap: 10px;
}
.deco-line { flex: 1; height: 1px; background: #333; }

/* The Toggle Switch */
.mode-btn {
    background: transparent; border: 1px solid #444; color: #666;
    padding: 5px 12px; font-family: var(--font-mono); font-size: 0.8rem;
    cursor: pointer; display: flex; align-items: center; gap: 8px;
    transition: 0.2s;
}
.indicator { width: 8px; height: 8px; background: #444; display: block; }

/* Active States */
.mode-btn.safe .indicator { background: var(--c-yellow); box-shadow: 0 0 5px var(--c-yellow); }
.mode-btn.safe { color: var(--c-yellow); border-color: var(--c-yellow); }

.mode-btn.nsfw .indicator { background: var(--c-red); box-shadow: 0 0 5px var(--c-red); }
.mode-btn.nsfw { color: var(--c-red); border-color: var(--c-red); }

/* Inputs */
.input-group label {
    font-size: 0.8rem; color: var(--c-yellow); display: block; margin-bottom: 5px;
    font-family: var(--font-mono);
}
.controls { display: flex; gap: 10px; }

input[type="text"],
input[type="password"] {   
    background: var(--c-dark-grey);
    border: 1px solid #444;
    border-left: 3px solid #444; /* Tech accent */
    color: var(--c-white);
    padding: 12px;
    width: 100%;
    font-family: var(--font-mono); 
    font-size: 0.9rem;
    outline: none; 
    transition: 0.3s;
    box-sizing: border-box; /* Ensures padding doesn't break the width */
}

/* Ensure the focus state works for both */
input[type="text"]:focus,
input[type="password"]:focus {
    border-color: var(--c-yellow); 
    border-left-color: var(--c-yellow);
}

/* --- MAIN BUTTON (THE BIG YELLOW ONE) --- */
button#spin-btn {
    background: var(--c-yellow);
    color: var(--c-black);
    border: none;
    padding: 15px;
    font-family: var(--font-main); font-weight: 800; font-size: 1.5rem;
    text-transform: uppercase; letter-spacing: 2px;
    clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px); /* Cut corners */
    cursor: pointer;
    display: flex; justify-content: space-between; padding: 15px 30px;
    transition: 0.2s;
}
button#spin-btn:hover {
    background: var(--c-white);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(242, 217, 48, 0.3);
}
button#spin-btn:active { transform: scale(0.98); }

/* --- ACTION BUTTONS --- */
.actions { display: flex; gap: 10px; }
.action-btn {
    flex: 1; text-align: center; padding: 10px;
    text-decoration: none; text-transform: uppercase; font-weight: 700;
    font-size: 0.9rem; border: 1px solid var(--c-white);
    color: var(--c-white); transition: 0.2s;
}
.action-btn:hover { background: var(--c-white); color: var(--c-black); }

/* --- STATS TERMINAL --- */
.stats-box {
    border-top: 2px solid var(--c-yellow);
    background: rgba(255,255,255,0.03);
    padding: 15px;
}
.stats-box h3 {
    margin: 0 0 15px 0; font-family: var(--font-mono); font-size: 0.9rem;
    color: var(--c-light-grey);
}
.stat-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 10px 20px;
}
.stat-item { display: flex; flex-direction: column; }
.stat-item.full-width { grid-column: span 2; }

.stat-item .label {
    font-size: 0.7rem; color: #666; font-weight: 700;
}
.stat-item .value {
    font-family: var(--font-mono); font-size: 0.9rem; color: var(--c-white);
}
.stat-item .link { color: var(--c-yellow); text-decoration: none; }

/* --- TAGS --- */
.tags-header { font-size: 0.8rem; color: var(--c-light-grey); margin-bottom: 8px; }
.tags-list { display: flex; flex-wrap: wrap; gap: 5px; }
.tag-chip {
    background: #222; border: 1px solid #444; color: #999;
    padding: 2px 8px; font-size: 0.75rem; font-family: var(--font-mono);
    cursor: pointer; user-select: none;
}
.tag-chip:hover { border-color: var(--c-yellow); color: var(--c-yellow); }

/* --- RESPONSIVE --- */
@media (max-width: 900px) {
    .game-board { flex-direction: column; }
    .col-left, .col-right { width: 100%; }
    .roulette-box { height: 50vh; }
}

.hidden { display: none !important; }
/* --- LOGIN PAGE SPECIFIC --- */

/* Special body alignment for login page */
.login-body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
}

.auth-wrapper {
    width: 100%;
    max-width: 450px;
    padding: 20px;
}

.auth-box {
    background: var(--c-dark-grey);
    border: 1px solid #333;
    padding: 40px 30px;
    position: relative;
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
}

.auth-header {
    text-align: center;
    margin-bottom: 30px;
    border-bottom: 1px solid #333;
    padding-bottom: 20px;
}

.auth-header h2 {
    margin: 5px 0;
    color: var(--c-white);
    letter-spacing: 2px;
}

.auth-header .sub-header {
    font-family: var(--font-mono);
    font-size: 0.7rem;
    color: var(--c-red); /* Warning Red */
    margin-top: 5px;
}

.auth-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.auth-footer {
    margin-top: 20px;
    text-align: center;
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--c-light-grey);
}

/* --- ANIMATIONS --- */

/* 1. The "Dot Dot Dot" Wave */
/* Apply this to the dots in the text */
.anim-dots {
    display: inline-block;
    animation: dot-wave 1.5s infinite;
}

@keyframes dot-wave {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

/* 2. The Tactical Image Loader (A spinning tech ring) */
.tech-loader {
    width: 50px;
    height: 50px;
    border: 3px solid rgba(242, 217, 48, 0.3); /* Dim Yellow */
    border-top: 3px solid var(--c-yellow);    /* Bright Yellow */
    border-radius: 50%;
    animation: spin-tech 1s linear infinite;
    position: relative;
    margin-bottom: 15px; /* Space from text below it */
}

/* Add a glowing center dot for extra sci-fi points */
.tech-loader::after {
    content: '';
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    width: 6px; height: 6px;
    background: var(--c-yellow);
    box-shadow: 0 0 10px var(--c-yellow);
    border-radius: 50%;
}

@keyframes spin-tech {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Container for the loader to center it */
.loading-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--c-yellow);
    font-family: var(--font-mono);
    font-size: 0.8rem;
    letter-spacing: 2px;
}

/* --- TACTICAL MODAL (Lightbox) --- */
.modal {
    position: fixed;
    z-index: 1000; /* Sit on top of everything */
    left: 0; top: 0;
    width: 100%; height: 100%;
    overflow: auto; /* Allow scrolling if image is HUGE */
    background-color: rgba(10, 10, 10, 0.95); /* Deep dark tint */
    backdrop-filter: blur(5px); /* Blur the background app */
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    animation: fade-in 0.2s;
}

.modal-content {
    margin: auto;
    display: block;
    max-width: 90%;
    max-height: 90vh; /* Fit within screen height */
    object-fit: contain;
    border: 2px solid var(--c-yellow); /* Technical border */
    box-shadow: 0 0 20px rgba(242, 217, 48, 0.2);
}

.modal-close {
    position: absolute;
    top: 30px; right: 40px;
    color: var(--c-light-grey);
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    border: 1px solid #444;
    padding: 10px 20px;
    background: rgba(0,0,0,0.5);
    transition: 0.2s;
}

.modal-close:hover {
    color: var(--c-yellow);
    border-color: var(--c-yellow);
    background: #000;
}

.modal-caption {
    margin-top: 15px;
    color: var(--c-yellow);
    font-family: var(--font-mono);
    font-size: 0.8rem;
    letter-spacing: 2px;
}

/* Make the main image look clickable */
.clickable-zoom {
    cursor: zoom-in;
    transition: transform 0.2s;
}
.clickable-zoom:hover {
    opacity: 0.9;
}

@keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}
